--
-- PostgreSQL database dump
--

\restrict FlGPB36XZstByfsvRemP1VpLG9hwlKyZ7k2UbZQkoAnDtEQy4Bb3GAYZSwTRKhc

-- Dumped from database version 16.10
-- Dumped by pg_dump version 16.10

-- Started on 2025-11-26 21:50:00

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 2 (class 3079 OID 16661)
-- Name: citext; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS citext WITH SCHEMA public;


--
-- TOC entry 5119 (class 0 OID 0)
-- Dependencies: 2
-- Name: EXTENSION citext; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION citext IS 'data type for case-insensitive character strings';


--
-- TOC entry 3 (class 3079 OID 16766)
-- Name: pgcrypto; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pgcrypto WITH SCHEMA public;


--
-- TOC entry 5120 (class 0 OID 0)
-- Dependencies: 3
-- Name: EXTENSION pgcrypto; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION pgcrypto IS 'cryptographic functions';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 232 (class 1259 OID 16892)
-- Name: actividad; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.actividad (
    id_actividad integer NOT NULL,
    id_sede integer NOT NULL,
    id_semestre integer NOT NULL,
    claveturnoact integer NOT NULL,
    tituloact character varying(150) NOT NULL,
    fechaact date NOT NULL,
    horarioact character varying(60) NOT NULL,
    responsableact character varying(150) NOT NULL,
    cupoact integer NOT NULL,
    vigenciaact date NOT NULL
);


ALTER TABLE public.actividad OWNER TO postgres;

--
-- TOC entry 231 (class 1259 OID 16891)
-- Name: actividad_id_actividad_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.actividad ALTER COLUMN id_actividad ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.actividad_id_actividad_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 16826)
-- Name: admin; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.admin (
    id_admin integer NOT NULL,
    ultimaconexionadmin date NOT NULL,
    permisosespecialesadmin character varying(50) NOT NULL
);


ALTER TABLE public.admin OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 16846)
-- Name: equipo_operativo; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.equipo_operativo (
    id_equipooper integer NOT NULL,
    arearesponsableeqoper character varying(50) NOT NULL,
    inventarioasignadoeqoper character varying(50) NOT NULL,
    telefonocontacto character varying(20)
);


ALTER TABLE public.equipo_operativo OWNER TO postgres;

--
-- TOC entry 234 (class 1259 OID 16913)
-- Name: inscripcion; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.inscripcion (
    id_inscripcion integer NOT NULL,
    id_trabajador integer NOT NULL,
    id_actividad integer NOT NULL,
    estadoinsc character varying(10) NOT NULL,
    horasinsc integer NOT NULL,
    fecharegistroinsc date NOT NULL
);


ALTER TABLE public.inscripcion OWNER TO postgres;

--
-- TOC entry 233 (class 1259 OID 16912)
-- Name: inscripcion_id_inscripcion_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.inscripcion ALTER COLUMN id_inscripcion ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.inscripcion_id_inscripcion_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 224 (class 1259 OID 16857)
-- Name: municipio; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.municipio (
    id_municipio integer NOT NULL,
    nombremun character varying(50) NOT NULL,
    estadomun character varying(50) NOT NULL
);


ALTER TABLE public.municipio OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 16856)
-- Name: municipio_id_municipio_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.municipio ALTER COLUMN id_municipio ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.municipio_id_municipio_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 16836)
-- Name: recursos_humanos; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.recursos_humanos (
    id_recursoshum integer NOT NULL,
    reportesgeneradosrh integer NOT NULL,
    ultimarevisionrh date NOT NULL,
    arearesponsablerh character varying(50) NOT NULL
);


ALTER TABLE public.recursos_humanos OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 16865)
-- Name: sede; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.sede (
    id_sede integer NOT NULL,
    id_municipio integer NOT NULL,
    nombresede character varying(150) NOT NULL,
    direccionsede character varying(255) NOT NULL
);


ALTER TABLE public.sede OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 16864)
-- Name: sede_id_sede_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.sede ALTER COLUMN id_sede ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.sede_id_sede_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 228 (class 1259 OID 16876)
-- Name: semestre; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.semestre (
    id_semestre integer NOT NULL,
    nosemestre integer NOT NULL,
    aniosemestre integer NOT NULL,
    CONSTRAINT semestre_aniosemestre_check CHECK (((aniosemestre >= 1900) AND (aniosemestre <= 2100))),
    CONSTRAINT semestre_nosemestre_check CHECK ((nosemestre = ANY (ARRAY[1, 2])))
);


ALTER TABLE public.semestre OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 16875)
-- Name: semestre_id_semestre_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.semestre ALTER COLUMN id_semestre ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.semestre_id_semestre_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 16816)
-- Name: trabajador; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.trabajador (
    id_trabajador integer NOT NULL,
    deptotrab character varying(50) NOT NULL,
    puestotrab character varying(50) NOT NULL,
    horasacumuladastrab integer
);


ALTER TABLE public.trabajador OWNER TO postgres;

--
-- TOC entry 230 (class 1259 OID 16886)
-- Name: turno; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.turno (
    id_turno integer NOT NULL,
    turno character varying(10) NOT NULL
);


ALTER TABLE public.turno OWNER TO postgres;

--
-- TOC entry 229 (class 1259 OID 16885)
-- Name: turno_id_turno_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.turno ALTER COLUMN id_turno ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.turno_id_turno_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 16804)
-- Name: usuarios; Type: TABLE; Schema: public; Owner: marco
--

CREATE TABLE public.usuarios (
    id_usuario integer NOT NULL,
    id_empleado integer,
    nombreusuario character varying(15) NOT NULL,
    emailusuario public.citext NOT NULL,
    contrausuario text NOT NULL,
    tipousuario character varying(5) NOT NULL,
    emailconfirmado boolean DEFAULT false,
    CONSTRAINT usuarios_tipousuario_check CHECK (((tipousuario)::text = ANY ((ARRAY['T'::character varying, 'A'::character varying, 'R'::character varying, 'E'::character varying])::text[])))
);


ALTER TABLE public.usuarios OWNER TO marco;

--
-- TOC entry 217 (class 1259 OID 16803)
-- Name: usuarios_id_usuario_seq; Type: SEQUENCE; Schema: public; Owner: marco
--

CREATE SEQUENCE public.usuarios_id_usuario_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.usuarios_id_usuario_seq OWNER TO marco;

--
-- TOC entry 5122 (class 0 OID 0)
-- Dependencies: 217
-- Name: usuarios_id_usuario_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: marco
--

ALTER SEQUENCE public.usuarios_id_usuario_seq OWNED BY public.usuarios.id_usuario;


--
-- TOC entry 4910 (class 2604 OID 16807)
-- Name: usuarios id_usuario; Type: DEFAULT; Schema: public; Owner: marco
--

ALTER TABLE ONLY public.usuarios ALTER COLUMN id_usuario SET DEFAULT nextval('public.usuarios_id_usuario_seq'::regclass);


--
-- TOC entry 5111 (class 0 OID 16892)
-- Dependencies: 232
-- Data for Name: actividad; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.actividad (id_actividad, id_sede, id_semestre, claveturnoact, tituloact, fechaact, horarioact, responsableact, cupoact, vigenciaact) FROM stdin;
1	1	1	1	Jornada de Limpieza Urbana	2025-02-10	08:00-12:00	Carlos Pérez	30	2025-02-28
2	2	2	2	Campaña de Donación de Sangre	2025-03-15	14:00-18:00	Laura García	25	2025-03-30
3	3	3	1	Reforestación Comunitaria	2026-01-20	09:00-13:00	Marta López	40	2026-01-31
4	4	4	3	Recolección de Alimentos	2026-04-12	18:00-21:00	José Ramírez	20	2026-04-25
5	5	5	4	Apoyo a Hogar de Ancianos	2027-02-01	09:00-15:00	Elena Torres	35	2027-02-15
\.


--
-- TOC entry 5099 (class 0 OID 16826)
-- Dependencies: 220
-- Data for Name: admin; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.admin (id_admin, ultimaconexionadmin, permisosespecialesadmin) FROM stdin;
2	2025-10-09	Control total
\.


--
-- TOC entry 5101 (class 0 OID 16846)
-- Dependencies: 222
-- Data for Name: equipo_operativo; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.equipo_operativo (id_equipooper, arearesponsableeqoper, inventarioasignadoeqoper, telefonocontacto) FROM stdin;
4	Mantenimiento	Kit eléctrico	555-123-4567
\.


--
-- TOC entry 5113 (class 0 OID 16913)
-- Dependencies: 234
-- Data for Name: inscripcion; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.inscripcion (id_inscripcion, id_trabajador, id_actividad, estadoinsc, horasinsc, fecharegistroinsc) FROM stdin;
1	1	1	Activo	20	2025-02-05
2	1	2	Activo	15	2025-03-12
3	1	3	Finalizado	25	2026-01-18
4	1	4	Cancelado	10	2026-04-10
5	1	5	Activo	18	2027-01-28
\.


--
-- TOC entry 5103 (class 0 OID 16857)
-- Dependencies: 224
-- Data for Name: municipio; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.municipio (id_municipio, nombremun, estadomun) FROM stdin;
1	Guadalajara	Jalisco
2	Zapopan	Jalisco
3	Tlaquepaque	Jalisco
4	León	Guanajuato
5	Querétaro	Querétaro
\.


--
-- TOC entry 5100 (class 0 OID 16836)
-- Dependencies: 221
-- Data for Name: recursos_humanos; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.recursos_humanos (id_recursoshum, reportesgeneradosrh, ultimarevisionrh, arearesponsablerh) FROM stdin;
3	15	2025-10-09	Contratación
\.


--
-- TOC entry 5105 (class 0 OID 16865)
-- Dependencies: 226
-- Data for Name: sede; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.sede (id_sede, id_municipio, nombresede, direccionsede) FROM stdin;
1	1	Centro de Apoyo Comunitario Guadalajara	Av. Juárez #123, Guadalajara
2	2	Centro de Voluntariado Zapopan Norte	Blvd. Patria #505, Zapopan
3	3	Casa de Ayuda Tlaquepaque	Calle Hidalgo #234, Tlaquepaque
4	4	Fundación Manos de León	Av. Universidad #567, León
5	5	Centro Solidario Querétaro	Calle Tecnológico #890, Querétaro
\.


--
-- TOC entry 5107 (class 0 OID 16876)
-- Dependencies: 228
-- Data for Name: semestre; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.semestre (id_semestre, nosemestre, aniosemestre) FROM stdin;
1	1	2025
2	2	2025
3	1	2026
4	2	2026
5	1	2027
\.


--
-- TOC entry 5098 (class 0 OID 16816)
-- Dependencies: 219
-- Data for Name: trabajador; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.trabajador (id_trabajador, deptotrab, puestotrab, horasacumuladastrab) FROM stdin;
1	Producción	Operador de maquinaria	12
\.


--
-- TOC entry 5109 (class 0 OID 16886)
-- Dependencies: 230
-- Data for Name: turno; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.turno (id_turno, turno) FROM stdin;
1	Matutino
2	Vespertino
3	Nocturno
4	Mixto
5	Especial
\.


--
-- TOC entry 5097 (class 0 OID 16804)
-- Dependencies: 218
-- Data for Name: usuarios; Type: TABLE DATA; Schema: public; Owner: marco
--

COPY public.usuarios (id_usuario, id_empleado, nombreusuario, emailusuario, contrausuario, tipousuario, emailconfirmado) FROM stdin;
1	101	cperez	cperez@empresa.com	$2a$06$kSzrZolCEg3BCbM1O8xcluB4qPeWI4mHARwfCIJo0ztH3nf/04h8.	T	t
2	102	lgarcia	lgarcia@empresa.com	$2a$06$s/dxkx8ydgAluZJHo8kRqOlflVHXy.LpXuGXicGB9U1r6h0IWiA5C	A	t
3	103	mlopez	mlopez@empresa.com	$2a$06$Ri9zaiTEM032og5vsDiEa.gA39wc8/kwCrmLrI72ryPoB6CobliG6	R	t
4	104	jramirez	jramirez@empresa.com	$2a$06$yhV5l5NgyQCphYhFugnNDOekhF.t.5BJSIu0XMRsBPlykSWVv4L3W	E	t
6	123456	Martodil	marios_mex_20@hotmail.com	$2a$10$7G09vUIaMpW8Q7tqUOXdx.kN8ElaEer7RHnmBuNEhAwKZrmq.VSnu	A	t
7	654321	Ocram	marios.mex.20@gmail.com	$2a$10$SU2Tkf4WReSPmtoFo0tDo.SWywP9ZGShGSMXCQOyxK74Ehds2XkK2	T	t
8	246810	Ricardo	ricardo@hotmail.com	$2a$10$ZCbsO9bgrc1yc.zGRtxxBusR1JIk/AM3RwxSXN7Ai9sQC23GckOhi	R	t
9	3691215	Julian	julian@outlook.com	$2a$10$haB6LmviLDhwRxjm4Ifl1.APZb/YqZVuRpyGUXeY2OSrBIq5JkOde	E	t
10	123678	Alex	alex@hotmail.com	$2a$10$meyQasmM2sXCQ22AuiMi0uLhYGOepbKzApUVeBgoJEeLRCDn052bW	R	t
\.


--
-- TOC entry 5123 (class 0 OID 0)
-- Dependencies: 231
-- Name: actividad_id_actividad_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.actividad_id_actividad_seq', 5, true);


--
-- TOC entry 5124 (class 0 OID 0)
-- Dependencies: 233
-- Name: inscripcion_id_inscripcion_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.inscripcion_id_inscripcion_seq', 1, false);


--
-- TOC entry 5125 (class 0 OID 0)
-- Dependencies: 223
-- Name: municipio_id_municipio_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.municipio_id_municipio_seq', 10, true);


--
-- TOC entry 5126 (class 0 OID 0)
-- Dependencies: 225
-- Name: sede_id_sede_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.sede_id_sede_seq', 15, true);


--
-- TOC entry 5127 (class 0 OID 0)
-- Dependencies: 227
-- Name: semestre_id_semestre_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.semestre_id_semestre_seq', 10, true);


--
-- TOC entry 5128 (class 0 OID 0)
-- Dependencies: 229
-- Name: turno_id_turno_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.turno_id_turno_seq', 10, true);


--
-- TOC entry 5129 (class 0 OID 0)
-- Dependencies: 217
-- Name: usuarios_id_usuario_seq; Type: SEQUENCE SET; Schema: public; Owner: marco
--

SELECT pg_catalog.setval('public.usuarios_id_usuario_seq', 10, true);


--
-- TOC entry 4940 (class 2606 OID 16896)
-- Name: actividad actividad_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.actividad
    ADD CONSTRAINT actividad_pkey PRIMARY KEY (id_actividad);


--
-- TOC entry 4922 (class 2606 OID 16830)
-- Name: admin admin_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.admin
    ADD CONSTRAINT admin_pkey PRIMARY KEY (id_admin);


--
-- TOC entry 4926 (class 2606 OID 16850)
-- Name: equipo_operativo equipo_operativo_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.equipo_operativo
    ADD CONSTRAINT equipo_operativo_pkey PRIMARY KEY (id_equipooper);


--
-- TOC entry 4942 (class 2606 OID 16917)
-- Name: inscripcion inscripcion_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.inscripcion
    ADD CONSTRAINT inscripcion_pkey PRIMARY KEY (id_inscripcion);


--
-- TOC entry 4928 (class 2606 OID 16861)
-- Name: municipio municipio_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.municipio
    ADD CONSTRAINT municipio_pkey PRIMARY KEY (id_municipio);


--
-- TOC entry 4930 (class 2606 OID 16863)
-- Name: municipio municipio_unico; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.municipio
    ADD CONSTRAINT municipio_unico UNIQUE (nombremun, estadomun);


--
-- TOC entry 4924 (class 2606 OID 16840)
-- Name: recursos_humanos recursos_humanos_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recursos_humanos
    ADD CONSTRAINT recursos_humanos_pkey PRIMARY KEY (id_recursoshum);


--
-- TOC entry 4932 (class 2606 OID 16869)
-- Name: sede sede_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sede
    ADD CONSTRAINT sede_pkey PRIMARY KEY (id_sede);


--
-- TOC entry 4934 (class 2606 OID 16882)
-- Name: semestre semestre_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.semestre
    ADD CONSTRAINT semestre_pkey PRIMARY KEY (id_semestre);


--
-- TOC entry 4936 (class 2606 OID 16884)
-- Name: semestre semestre_unico; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.semestre
    ADD CONSTRAINT semestre_unico UNIQUE (nosemestre, aniosemestre);


--
-- TOC entry 4920 (class 2606 OID 16820)
-- Name: trabajador trabajador_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.trabajador
    ADD CONSTRAINT trabajador_pkey PRIMARY KEY (id_trabajador);


--
-- TOC entry 4938 (class 2606 OID 16890)
-- Name: turno turno_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.turno
    ADD CONSTRAINT turno_pkey PRIMARY KEY (id_turno);


--
-- TOC entry 4916 (class 2606 OID 16815)
-- Name: usuarios usuarios_emailusuario_key; Type: CONSTRAINT; Schema: public; Owner: marco
--

ALTER TABLE ONLY public.usuarios
    ADD CONSTRAINT usuarios_emailusuario_key UNIQUE (emailusuario);


--
-- TOC entry 4918 (class 2606 OID 16813)
-- Name: usuarios usuarios_pkey; Type: CONSTRAINT; Schema: public; Owner: marco
--

ALTER TABLE ONLY public.usuarios
    ADD CONSTRAINT usuarios_pkey PRIMARY KEY (id_usuario);


--
-- TOC entry 4948 (class 2606 OID 16897)
-- Name: actividad actividad_fk1_sede; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.actividad
    ADD CONSTRAINT actividad_fk1_sede FOREIGN KEY (id_sede) REFERENCES public.sede(id_sede) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 4949 (class 2606 OID 16902)
-- Name: actividad actividad_fk2_semestre; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.actividad
    ADD CONSTRAINT actividad_fk2_semestre FOREIGN KEY (id_semestre) REFERENCES public.semestre(id_semestre) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 4950 (class 2606 OID 16907)
-- Name: actividad actividad_fk3_turno; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.actividad
    ADD CONSTRAINT actividad_fk3_turno FOREIGN KEY (claveturnoact) REFERENCES public.turno(id_turno) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 4944 (class 2606 OID 16831)
-- Name: admin admin_id_admin_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.admin
    ADD CONSTRAINT admin_id_admin_fkey FOREIGN KEY (id_admin) REFERENCES public.usuarios(id_usuario);


--
-- TOC entry 4946 (class 2606 OID 16851)
-- Name: equipo_operativo equipo_operativo_id_equipooper_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.equipo_operativo
    ADD CONSTRAINT equipo_operativo_id_equipooper_fkey FOREIGN KEY (id_equipooper) REFERENCES public.usuarios(id_usuario);


--
-- TOC entry 4951 (class 2606 OID 16918)
-- Name: inscripcion inscripcion_fk1_trabajador; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.inscripcion
    ADD CONSTRAINT inscripcion_fk1_trabajador FOREIGN KEY (id_trabajador) REFERENCES public.trabajador(id_trabajador) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 4952 (class 2606 OID 16923)
-- Name: inscripcion inscripcion_fk2_actividad; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.inscripcion
    ADD CONSTRAINT inscripcion_fk2_actividad FOREIGN KEY (id_actividad) REFERENCES public.actividad(id_actividad) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 4945 (class 2606 OID 16841)
-- Name: recursos_humanos recursos_humanos_id_recursoshum_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recursos_humanos
    ADD CONSTRAINT recursos_humanos_id_recursoshum_fkey FOREIGN KEY (id_recursoshum) REFERENCES public.usuarios(id_usuario);


--
-- TOC entry 4947 (class 2606 OID 16870)
-- Name: sede sede_fk1_municipio; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sede
    ADD CONSTRAINT sede_fk1_municipio FOREIGN KEY (id_municipio) REFERENCES public.municipio(id_municipio) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 4943 (class 2606 OID 16821)
-- Name: trabajador trabajador_id_trabajador_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.trabajador
    ADD CONSTRAINT trabajador_id_trabajador_fkey FOREIGN KEY (id_trabajador) REFERENCES public.usuarios(id_usuario);


--
-- TOC entry 5121 (class 0 OID 0)
-- Dependencies: 218
-- Name: TABLE usuarios; Type: ACL; Schema: public; Owner: marco
--

REVOKE ALL ON TABLE public.usuarios FROM marco;
GRANT ALL ON TABLE public.usuarios TO marco WITH GRANT OPTION;
GRANT ALL ON TABLE public.usuarios TO voluntariado WITH GRANT OPTION;


--
-- TOC entry 2204 (class 826 OID 17025)
-- Name: DEFAULT PRIVILEGES FOR TABLES; Type: DEFAULT ACL; Schema: -; Owner: postgres
--

ALTER DEFAULT PRIVILEGES FOR ROLE postgres GRANT ALL ON TABLES TO marco WITH GRANT OPTION;


-- Completed on 2025-11-26 21:50:01

--
-- PostgreSQL database dump complete
--

\unrestrict FlGPB36XZstByfsvRemP1VpLG9hwlKyZ7k2UbZQkoAnDtEQy4Bb3GAYZSwTRKhc

